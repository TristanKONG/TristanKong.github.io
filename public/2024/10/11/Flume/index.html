<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>Mr. Tree 的 博客</title>
	<link rel="stylesheet" href="/css/style.css" />
	
<meta name="generator" content="Hexo 7.3.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/archives" class="header__link">Archive</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/atom.xml" class="header__link">RSS</a>
			
		</nav>
		<h1 class="header__title"><a href="/">Mr. Tree 的 博客</a></h1>
		<h2 class="header__subtitle"></h2>
	</header>

	<main>
		<article>
	
		<h1></h1>
	
	<div class="article__infos">
		<span class="article__date">2024-10-11</span><br />
		
		
	</div>

	

	
		<h1 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h1><h2 id="Exec"><a href="#Exec" class="headerlink" title="Exec"></a>Exec</h2><p>get data by running external command</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.type = exec</span><br><span class="line">.command = cat/tail -F</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="SpoolDir"><a href="#SpoolDir" class="headerlink" title="SpoolDir"></a>SpoolDir</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.type = spooldir</span><br><span class="line">.spoolDir</span><br><span class="line">.deletePolicy = nevet/immediate</span><br></pre></td></tr></table></figure>

<h2 id="Netcat"><a href="#Netcat" class="headerlink" title="Netcat"></a>Netcat</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.type = netcat</span><br><span class="line">.bind = localhost</span><br><span class="line">.port = 9999</span><br></pre></td></tr></table></figure>

<p>Unix utility</p>
<p>read,write data on network</p>
<h3 id="protocal"><a href="#protocal" class="headerlink" title="protocal"></a>protocal</h3><p>TCP</p>
<p>UDP</p>
<h2 id="TailDir"><a href="#TailDir" class="headerlink" title="TailDir"></a>TailDir</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.type = TAILDIR</span><br><span class="line">.filegroups = f1</span><br><span class="line">.filegroups.f1 = (localtion of f1)</span><br><span class="line">.positionFile = (localtion of json file)</span><br></pre></td></tr></table></figure>

<h2 id="Kafka"><a href="#Kafka" class="headerlink" title="Kafka"></a>Kafka</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.type = org.apache.flume.source.kafka.KafkaSource</span><br></pre></td></tr></table></figure>

<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>accept events by POST and GET</p>
<h3 id="“handler”"><a href="#“handler”" class="headerlink" title="“handler”"></a>“handler”</h3><p>implement interface “HTTPSourceHandler”</p>
<p>take</p>
<p>HTTPServletRequest</p>
<p>return</p>
<p>a list of Flume events</p>
<h1 id="Channel"><a href="#Channel" class="headerlink" title="Channel"></a>Channel</h1><h2 id="Memory-Channel"><a href="#Memory-Channel" class="headerlink" title="Memory Channel"></a>Memory Channel</h2><p>fast</p>
<p>events are stored  in an in-memory queue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.type = memory</span><br><span class="line">.capacity = 1000</span><br><span class="line">.transactionCapacity = 1000</span><br></pre></td></tr></table></figure>



<h2 id="File-Channel"><a href="#File-Channel" class="headerlink" title="File Channel"></a>File Channel</h2><p>reliable</p>
<p>events are written in the disk</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.checkpointDir = (checkpoint file)</span><br><span class="line">.dataDir = (log file)</span><br></pre></td></tr></table></figure>



<h1 id="Sink"><a href="#Sink" class="headerlink" title="Sink"></a>Sink</h1><h2 id="HDFS"><a href="#HDFS" class="headerlink" title="HDFS"></a>HDFS</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.hdfs.path</span><br><span class="line">.hdfs.fileType = DataStream/SequenceFile/CompressedStream</span><br><span class="line">.hdfs.filePrefix</span><br><span class="line">.hdfs.fileSuffix</span><br><span class="line">.hdfs.rollCount = (events in a file, 10 lines by default)</span><br><span class="line">.hdfs.rollSize = (size of a file, 1024 byte by default,if 0 then no limit)</span><br><span class="line">.hdfs.rollInterval = (Maximum waiting time for data, 30 sec by default)</span><br><span class="line">.hdfs.useLocalTimeStamp = true (使用本地时间戳，便于HDFS排序和查找)</span><br></pre></td></tr></table></figure>

<h2 id="HBase"><a href="#HBase" class="headerlink" title="HBase"></a>HBase</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.type = hbase2</span><br><span class="line">.table</span><br><span class="line">.columnFamily</span><br><span class="line">.serializer = org.apache.flume.sink.hbase2.RegexHBaseEventSerializer</span><br></pre></td></tr></table></figure>


	

	
		<span class="different-posts"><a href="/2024/10/11/Flume/" onclick="window.history.go(-1); return false;">⬅️ Go back </a></span>

	

</article>

	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>Hi there, <br />welcome to my Blog glad you found it. Have a look around, will you?</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>© 2024 TristanKong | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
